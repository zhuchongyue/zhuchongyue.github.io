<!--
    Powered By nodeppt - This is probably the best web presentation tool so far!
    version: 1.4.5
    site: https://github.com/ksky521/nodeppt
    date: 
-->
<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>graphql - By zhuchongyue@baidu.com</title>
    <link rel="stylesheet" media="all" href="./css/nodeppt.css">
    <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="./css/phone.css">
    
    <link rel="stylesheet" href="./js/highlight/styles/monokai_sublime.css">
    <link rel="stylesheet" href="./css/font-awesome.css">
    
<link rel="stylesheet" href="./css/theme.moon.css">
</head>
<body>
<div class="slides">
    <slides id="container">
        <slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>GraphQL</h1>
<h2>ä¸€ç§ç”¨äº API çš„æŸ¥è¯¢è¯­è¨€</h2>
<h2>æ¼”è®²è€…ï¼šzhuchongyue@baidu.com</h2>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vleft">
<h1>å¼•å­</h1>
<h2>ä½ éš¾é“æ²¡æœ‰é‡åˆ°è¿‡ï¼Ÿ</h2>
<ul class="moveIn">
<li>åˆ°äº†è”è°ƒé˜¶æ®µå‘ç°RDè¿”å›çš„æ•°æ®ç»“æ„è·Ÿé¢„å®šå®Œå…¨ä¸ä¸€æ ·ï¼Ÿ</li>
<li>å‰ç«¯ç»„ä»¶åŒ–åï¼Œæ•°æ®ç»“æ„å›ºå®šï¼Œæ¥å£æ•°æ®å¯¹ä¸ä¸Šï¼Ÿ</li>
<li>åŒä¸€å¥—APIå…¼å®¹å¤šç«¯å¸¦å›å†—ä½™æ•°æ®ï¼Ÿ</li>
<li>æ¥å£æ‰å¹³åŒ–æ”¯æŒä¸å¥½ï¼Ÿ</li>
<li>æ¥å£å‡çº§<pre><code class="javascript">1. https://xxx.com/path/v1/someapi.json
2. https://xxx.com/path/v2/someapi.json
</code></pre>
</li>
<li>...</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>What&#39;s GraphQL?</h1>
<h2>å®šä¹‰</h2>
<ul>
<li>GraphQL æ—¢æ˜¯ä¸€ç§ç”¨äº API çš„æŸ¥è¯¢è¯­è¨€ä¹Ÿæ˜¯ä¸€ä¸ªæ»¡è¶³ä½ æ•°æ®æŸ¥è¯¢çš„è¿è¡Œæ—¶ã€‚ GraphQL å¯¹ä½ çš„ API ä¸­çš„æ•°æ®æä¾›äº†ä¸€å¥—æ˜“äºç†è§£çš„å®Œæ•´æè¿°ï¼Œä½¿å¾—å®¢æˆ·ç«¯èƒ½å¤Ÿå‡†ç¡®åœ°è·å¾—å®ƒéœ€è¦çš„æ•°æ®ï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•å†—ä½™ï¼Œä¹Ÿè®© API æ›´å®¹æ˜“åœ°éšç€æ—¶é—´æ¨ç§»è€Œæ¼”è¿›ï¼Œè¿˜èƒ½ç”¨äºæ„å»ºå¼ºå¤§çš„å¼€å‘è€…å·¥å…·ã€‚</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>What&#39;s GraphQL?</h1>
<h3>ä¸€å›¾èƒœåƒè¨€</h3>
<img src="./img/graphql1.png" alt="graphql">

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>What&#39;s GraphQL?</h1>
 <style type="text/css">
    .faux-graphiql::before {
        background: linear-gradient(#f0f0f0, #dedede);
        border-radius: 6px 6px 0 0;
        box-shadow: inset 0 2px 2px -2px white, 0 1px rgba(0, 0, 0, 0.4);
        content: ' ';
        display: block;
        height: 25px;
        position: absolute;
        top: 0;
        width: 100%;
    }

     .faux-graphiql {

      margin: 0 auto;
        background: white;
        border-radius: 6px 6px 0 0;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1), 0 8px 32px rgba(0, 0, 0, 0.12);
        overflow: hidden;
        padding-top: 26px;
        position: relative;

       width: 440px;
       height: 330px;
       display: flex;
       flex-direction: column;
       pointer-events: none;
     }
      .faux-graphiql .query,
      .faux-graphiql .response {
       flex: 1;
     }
      .faux-graphiql .query {
       border-bottom: solid 5px #e0e0e0;
     }
      .faux-graphiql .cursor {
       width: 7px;
       height: 15px;
       background-color: #d0d0d0;
       display: inline-block;
       margin: -1px 1px -3px;
       animation: cursor-blink 0.5s infinite linear both alternate;
     }
     @keyframes cursor-blink {
       0%,
       30% {
         opacity: 0;
       }
       70%,
       100% {
         opacity: 1;
       }
     }
      .faux-graphiql .ch {
       display: none;
     }

     .prism {
         padding: 1ch;
         font-family: 'Roboto Mono', Menlo, Monaco, monospace;
         font-weight: 400;
         color: #202020;
         font-size: 13px;
         line-height: 17px;
         direction: ltr;
         text-align: left;
         white-space: pre;
         word-spacing: normal;
         word-break: normal;
         -moz-tab-size: 2;
         -o-tab-size: 2;
         tab-size: 2;
         -webkit-hyphens: none;
         -moz-hyphens: none;
         -ms-hyphens: none;
         hyphens: none;
         position: relative;
     }
 </style>

<p> <div class="faux-graphiql">
    <div class="query">
     <pre class="prism">{
  hero {
    name<span id="ch0" class="ch"><br /></span><span id="ch1" class="ch"> </span><span id="ch2" class="ch"> </span><span id="ch3" class="ch"> </span><span id="ch4" class="ch"> </span><span id="ch5" class="ch">h</span><span id="ch6" class="ch">e</span><span id="ch7" class="ch">i</span><span id="ch8" class="ch">g</span><span id="ch9" class="ch">h</span><span id="ch10" class="ch">t</span><span id="ch11" class="ch"><br /></span><span id="ch12" class="ch"> </span><span id="ch13" class="ch"> </span><span id="ch14" class="ch"> </span><span id="ch15" class="ch"> </span><span id="ch16" class="ch">m</span><span id="ch17" class="ch">a</span><span id="ch18" class="ch">s</span><span id="ch19" class="ch">s</span><span class="cursor"></span>
  }
}</pre>
    </div>
    <div class="response">
     <div id="r1">
      <pre class="prism language-json"><span class="punctuation">{</span>
  <span class="attr-name">&quot;hero&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
    <span class="attr-name">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Luke Skywalker&quot;</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span></pre>
     </div>
     <div id="r2">
      <pre class="prism language-json"><span class="punctuation">{</span>
  <span class="attr-name">&quot;hero&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
    <span class="attr-name">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Luke Skywalker&quot;</span><span class="punctuation">,</span>
    <span class="attr-name">&quot;height&quot;</span><span class="punctuation">:</span> <span class="number">1.72</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span></pre>
     </div>
     <div id="r3">
      <pre class="prism language-json"><span class="punctuation">{</span>
  <span class="attr-name">&quot;hero&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
    <span class="attr-name">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Luke Skywalker&quot;</span><span class="punctuation">,</span>
    <span class="attr-name">&quot;height&quot;</span><span class="punctuation">:</span> <span class="number">1.72</span><span class="punctuation">,</span>
    <span class="attr-name">&quot;mass&quot;</span><span class="punctuation">:</span> <span class="number">77</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span></pre>
     </div>
    </div>
</div></p>
<script type="text/javascript">
    (function(){
          var i = 0;
          var forward = true;
          setTimeout(type, 2000);
          showResponse(1);
          function type() {
            if (forward) {
              document.getElementById('ch' + i).style.display = 'inline';
              i++;
              if (i === 20) {
                forward = false;
                showResponse(3);
                setTimeout(type, 1500);
              } else if (i === 11) {
                showResponse(2);
                setTimeout(type, 1500);
              } else {
                setTimeout(type, Math.random() * 180 + 70);
              }
            } else {
              i--;
              document.getElementById('ch' + i).style.display = 'none';
              if (i === 0) {
                forward = true;
                showResponse(1);
                setTimeout(type, 2000);
              } else {
                setTimeout(type, 80);
              }
            }
          }
          function showResponse(num) {
            document.getElementById('r1').style.display = num === 1 ? 'block' : 'none';
            document.getElementById('r2').style.display = num === 2 ? 'block' : 'none';
            document.getElementById('r3').style.display = num === 3 ? 'block' : 'none';
          }
        })()
</script>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>what&#39;s GraphQL?</h1>
<h3>æœ€å¤§çš„ç‰¹ç‚¹ï¼šæŒ‰éœ€ç´¢å–æ•°æ®ï¼Œç»„ç»‡æ•°æ®èƒ½åŠ›å‰ç½®</h3>
<img src="./img/cs.jpeg" alt="graphql">

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>what&#39;s GraphQL?</h1>
<h3>express + express-graphqlHTTP + graphiql</h3>
<h3>graphiql å¯è§†åŒ–æŸ¥è¯¢ç•Œé¢</h3>
<h2>Demo: <a href="http://localhost:8886/" target="_blank">http://localhost:8886/</a></h2>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>what&#39;s GraphQL?</h1>
<h2>åŸºæœ¬æ¦‚å¿µ(Graph Query Language æŸ¥è¯¢)</h2>
<ul>
<li>Operation Name</li>
<li>Fields</li>
<li>Arguments</li>
<li>Aliases</li>
<li>Fragments</li>
<li>Variables</li>
<li>Directives</li>
<li>Mutations</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>what&#39;s GraphQL?</h1>
<h2>åŸºæœ¬æ¦‚å¿µ(Graphql Type Language ç±»å‹è¯­è¨€)</h2>
<ul class="moveIn">
<li><p>Schema(GraphQLSchema): æè¿°æ•°æ®æ ¼å¼å’Œå¯æ“ä½œçš„ç±»å‹</p>
<pre><code class="javascript">const schema = buildSchema(`
    type Query {
        hello(name: String = &quot;world&quot;): String!
    }
`)

const schema = new GraphQLSchema({
    query,
    mutation
})
</code></pre>
</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>what&#39;s GraphQL?</h1>
<h2>åŸºæœ¬æ¦‚å¿µ(Graphql Type Language ç±»å‹è¯­è¨€)</h2>
<ul class="moveIn">
<li><p>å¯¹è±¡ç±»å‹å’Œå­—æ®µ(GraphQLObjectType)</p>
<pre><code class="javascript">type Character {
  name: String!
  appearsIn: [Episode]!
}

const Star = new GraphQLObjectType({
    name: &#39;star&#39;,
    description: &#39;star desc...&#39;,
    fields: () =&gt; ({
        id: { type: GraphQLInt },
        name: { type: GraphQLString },
        avatar: { type: GraphQLString },
        createAt: { type: GraphQLString },
        updataAt: { type: GraphQLString }
    })
})
</code></pre>
</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>what&#39;s GraphQL?</h1>
<h2>åŸºæœ¬æ¦‚å¿µ(Graphql Type Language ç±»å‹è¯­è¨€)</h2>
<ul class="moveIn">
<li><p>åˆ—è¡¨å’Œéç©ºç±»å‹(GraphQLList &amp;&amp; GraphQLNonNull) </p>
<pre><code class="javascript">type Person {
  name: String!
  friends: [Person!]!
  brothers: [Person]!
}

const Person = new GraphQLObjectType({
  name: &#39;person&#39;,
  fields: () =&gt; ({
    friends: { type: new GraphQLList(Person)},
    name: { type: new GraphQLNonNull(GraphQLString) }
  })
})
</code></pre>
</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>what&#39;s GraphQL?</h1>
<h2>åŸºæœ¬æ¦‚å¿µ(Graphql Type Language ç±»å‹è¯­è¨€)</h2>
<ul class="moveIn">
<li><p>æ¥å£ç±»å‹(GraphQLInterface) </p>
<pre><code class="javascript">interface Animal {
  eye: String!,
  nose: String!
}

type Dog implements Animal {
  eye: String!,
  nose: String!,
  leg: String
}

type Fish implements Animal {
  eye: String!,
  nose: String!,
  gill: String!
}
</code></pre>
</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>what&#39;s GraphQL?</h1>
<h2>åŸºæœ¬æ¦‚å¿µ(Graphql Type Language ç±»å‹è¯­è¨€)</h2>
<ul class="moveIn">
<li><p>è”åˆç±»å‹(GraphQLUnionType) </p>
<pre><code class="javascript">type Dog{
  ...
}

type Cat {
  ...
}

type Mouse {
  ...
}
union Pet = Dog | Cat | Mouse
</code></pre>
</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>what&#39;s GraphQL?</h1>
<h2>åŸºæœ¬æ¦‚å¿µ(Graphql Type Language ç±»å‹è¯­è¨€)</h2>
<ul class="moveIn">
<li>è¾“å…¥ç±»å‹(GraphQLInputObjectType) <pre><code class="javascript">enum Sex {
  MALE
  FEMALE
}
input ReviewInput {
  name: String!
  sex: Sex
}
</code></pre>
</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>GraphQLç”Ÿæ€-relay</h1>
<ul class="moveIn">
<li><p>Relayæ˜¯æ„å»ºæ•°æ®é©±åŠ¨ React åº”ç”¨çš„jsæ¡†æ¶ã€‚ç”¨äºæ¥ç®¡reactä¸­çš„æ•°æ®è·å–ã€‚</p>
</li>
<li><p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li><p>å£°æ˜å¼ï¼šä¸å†ä½¿ç”¨ä¸€ä¸ªå‘½ä»¤å¼APIä¸æ•°æ®å­˜å‚¨é€šè®¯ã€‚è€Œæ˜¯ç®€å•çš„ä½¿ç”¨GraphQLå£°æ˜ç»„ä»¶æ•°æ®éœ€æ±‚ï¼Œè®©Relayç†è§£å¦‚ä½•åŠä»€ä¹ˆæ—¶å€™è·å–ä½ çš„æ•°æ®ã€‚</p>
</li>
<li><p>æ‰˜ç®¡ï¼šRelayèšåˆæŸ¥è¯¢æˆæœ‰æ•ˆçš„ç½‘ç»œè¯·æ±‚ï¼Œåªè·å–éœ€è¦çš„æ•°æ®ã€‚</p>
</li>
<li><p>è½¬å˜ï¼šRelayå…è®¸ä½ ä½¿ç”¨GraphQL mutations åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯è½¬å˜æ•°æ®ï¼Œæä¾›è‡ªåŠ¨æ•°æ®ä¸€è‡´ï¼Œä¼˜åŒ–æ›´æ–°å’Œé”™è¯¯å¤„ç†ã€‚</p>
</li>
</ul>
</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>GraphQLç”Ÿæ€-relay</h1>
<pre><code class="javascript">class Todo extends React.Component {
    ...
  }

  export default createFragmentContainer(Todo, {
    todo: graphql`
      fragment Todo_todo on Todo {
        complete,
        id,
        text,
      }
    `,
    viewer: graphql`
      fragment Todo_viewer on User {
        id,
        totalCount,
        completedCount,
      }
    `,
  });
</code></pre>
<ul>
<li>Demo: <a href="http://localhost:3000/" target="_blank">http://localhost:3000/</a></li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>GraphQLç”Ÿæ€-Apollo</h1>
<ul>
<li>ç›®å‰ç¤¾åŒºæœ€æµè¡Œçš„GraphQLè§£å†³æ–¹æ¡ˆæä¾›è€…ï¼Œæä¾›äº†ä» client åˆ° server çš„ä¸€æ•´å¥—å®Œæ•´çš„å·¥å…·é“¾ã€‚</li>
<li>å»ºè®®ç”Ÿäº§ç¯å¢ƒä½¿ç”¨</li>
</ul>
<img src="./img/apollo.png" alt="apollo">

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>Who uses GraphQL?</h1>
<ul class="moveIn">
<li>Facebook</li>
<li>Github (<a href="https://developer.github.com/v4/explorer/" target="_blank">https://developer.github.com/v4/explorer/</a>)</li>
<li>Alibaba TQL Egg (<a href="https://github.com/eggjs/egg-graphql" target="_blank">https://github.com/eggjs/egg-graphql</a>)</li>
<li>...</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>ä¸ºä»€ä¹ˆæ²¡æœ‰ğŸ”¥èµ·æ¥ï¼Ÿ</h1>
<ul class="moveIn">
<li>å®‰å…¨é—®é¢˜-å®Œå…¨æš´éœ²åç«¯æ•°æ®</li>
<li>Field Resolveå¼•èµ·çš„æŸ¥è¯¢å†—ä½™</li>
<li>åˆ©å¥½Clientç«¯ï¼Œä¾èµ–åç«¯æ”¹é€ </li>
<li>ç¨³å®šæ€§</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>è°¢è°¢ï¼</h1>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>References</h1>
<ol>
<li>GraphQL Specification: <a href="http://facebook.github.io/graphql/October2016/" target="_blank">http://facebook.github.io/graphql/October2016/</a></li>
<li>graphql.js: <a href="https://github.com/f/graphql.js" target="_blank">https://github.com/f/graphql.js</a></li>
<li>Awesome-graphql: <a href="https://github.com/chentsulin/awesome-graphql" target="_blank">https://github.com/chentsulin/awesome-graphql</a></li>
<li>Relay: <a href="https://facebook.github.io/relay/" target="_blank">https://facebook.github.io/relay/</a></li>
<li>Apollo-GraphQL: <a href="https://github.com/apollographql" target="_blank">https://github.com/apollographql</a></li>
</ol>

</article></section></slide>
        

        <!-- <slide class="slide logoslide dark nobackground">
            <article class="flexbox vcenter">
                <h2 style="color: white;">Powered By nodeppt v1.4.5</h2>
            </article>
        </slide> -->
        <div class="slideTip" id="tip"></div>
    </slides>
</div>
<canvas id="drawBoard" class="draw-board" width="900" height="700"></canvas>
<div class="progress"><span id="progress"></span></div>
<div id="_buttons">
    <div class="_btn-box" id="_btn-box" style="display:none;">
        <button class="fa fa-arrow-circle-left" id="_btn-prev"></button>
        <button class="fa fa-arrow-circle-right" id="_btn-next"></button>
        <button class="fa fa-paint-brush" id="_btn-brush"></button>
        <button class="fa fa-compress" id="_btn-overview" data-toggle="fa fa-expand"></button>
    </div>
    <button class="fa fa-bars" id="_btn-bar"  data-toggle="fa fa-close"></button>
</div>
<script src="./js/mixjs/lib/mix.0.3.0.min.js"></script>
<script>
    var ASSET_RELATIVE_DIR = ".";
</script>
<script>
var base = location.protocol + '//' + location.host;

var path = (location.pathname + '#').split('/').filter(function(v){
    return !!v;
});
path.pop();
path = path.join('/');
if (typeof ASSET_RELATIVE_DIR === 'string') {
    path = path + '/' + ASSET_RELATIVE_DIR;
}
MixJS.config({
    baseURL: [ base, path, 'js'].join('/')+'/'
});

</script>
<script src="./js/mixjs/lib/event/broadcast.js"></script>
<script src="./js/nodeppt.js"></script>
<script>
Slide.init({
    containerID: 'container',
    drawBoardID: 'drawBoard',
    slideClass: '.slide',
    buildClass: '.build',
    progressID: 'progress',
    transition: 'cards',
    width: 1100,
    dir: './',
    
    //æ‰“å¼€ä¸‹é¢çš„æ³¨é‡Šå°±å¼€å¯postMessageæ–¹å¼
    //è®¿é—®ç½‘å€127.0.0.1:8080/ppt/demo#client
    control:{
        type: 'postMessage',
        args:{
            isControl:  false
        }
    },
    
    tipID: 'tip'
});
MixJS.loadJS('highlight/highlight.pack.js',function(){
    hljs.tabReplace = '  ';
    hljs.initHighlightingOnLoad();
});
</script>


<!--placeholder-->
</body>
</html>
